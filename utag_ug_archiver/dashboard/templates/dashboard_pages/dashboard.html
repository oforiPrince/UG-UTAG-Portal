{% extends "base/dashboard_base.html" %}
{% load static %}
{% block title %}
    {% if user.is_authenticated %}
        {% if is_admin %}
            Admin
        {% elif is_executive %}
            Executive
        {% elif is_member %}
            Member
        {% endif %}
    {% endif %}
{% endblock title %}
{% block content %}
    <div class="page-content">
        <div class="container-fluid">
            <!-- Modern Page Title -->
            <div class="page-title-box modern-header">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <div class="header-content">
                            <h6 class="page-title">Dashboard</h6>
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item">
                                    <i class="ri-home-line me-1"></i>Home
                                </li>
                                <li class="breadcrumb-item active">
                                    Welcome to UG-UTAG
                                    {% if user.is_authenticated %}
                                        {% if is_admin %}
                                            <span class="badge bg-danger ms-2">Admin</span>
                                        {% elif is_executive %}
                                            <span class="badge bg-info ms-2">Executive</span>
                                        {% elif is_member %}
                                            <span class="badge bg-success ms-2">Member</span>
                                        {% endif %}
                                    {% endif %}
                                </li>
                            </ol>
                        </div>
                    </div>
                    <div class="col-md-4 text-end">
                        <p class="text-muted mb-0">
                            Last updated: <strong>{{ "now"|date:"M d, Y H:i" }}</strong>
                        </p>
                    </div>
                </div>
            </div>
            <!-- end page title -->
            <!-- Modern Statistics Cards -->
            <div class="row mb-4">
                <!-- Internal Files Card -->
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="card mini-stat modern-card modern-card-primary">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h5 class="font-size-12 text-uppercase text-muted mb-3">Internal Files</h5>
                                    <h3 class="fw-bold font-size-28 mb-2">
                                        {% if total_documents > 0 %}
                                            <span class="counter">{{ total_documents }}</span>
                                        {% else %}
                                            <span class="text-muted">0</span>
                                        {% endif %}
                                    </h3>
                                    <p class="text-muted mb-0 font-size-12">
                                        <i class="ri-arrow-{% if documents_percentage >= 0 %}up{% else %}down{% endif %}-line text-{% if documents_percentage >= 0 %}success{% else %}danger{% endif %}"></i>
                                        <span class="text-{% if documents_percentage >= 0 %}success{% else %}danger{% endif %} fw-medium">{{ documents_percentage }}%</span> from last month
                                    </p>
                                </div>
                                <div class="mini-stat-icon-box">
                                    <i class="ri-file-text-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- External Files / Announcements Card -->
                {% if is_admin or is_executive %}
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card mini-stat modern-card modern-card-info">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <h5 class="font-size-12 text-uppercase text-muted mb-3">External Files</h5>
                                        <h3 class="fw-bold font-size-28 mb-2">
                                            {% if total_external_documents > 0 %}
                                                <span class="counter">{{ total_external_documents }}</span>
                                            {% else %}
                                                <span class="text-muted">0</span>
                                            {% endif %}
                                        </h3>
                                        <p class="text-muted mb-0 font-size-12">
                                            <i class="ri-arrow-{% if external_documents_percentage >= 0 %}up{% else %}down{% endif %}-line text-{% if external_documents_percentage >= 0 %}danger{% else %}success{% endif %}"></i>
                                            <span class="text-{% if external_documents_percentage >= 0 %}danger{% else %}success{% endif %} fw-medium">{{ external_documents_percentage }}%</span> from last month
                                        </p>
                                    </div>
                                    <div class="mini-stat-icon-box">
                                        <i class="ri-cloud-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card mini-stat modern-card modern-card-info">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <h5 class="font-size-12 text-uppercase text-muted mb-3">Announcements</h5>
                                        <h3 class="fw-bold font-size-28 mb-2">
                                            {% if total_announcements > 0 %}
                                                <span class="counter">{{ total_announcements }}</span>
                                            {% else %}
                                                <span class="text-muted">0</span>
                                            {% endif %}
                                        </h3>
                                        <p class="text-muted mb-0 font-size-12">
                                            <i class="ri-arrow-{% if announcements_percentage >= 0 %}up{% else %}down{% endif %}-line text-{% if announcements_percentage >= 0 %}success{% else %}danger{% endif %}"></i>
                                            <span class="text-{% if announcements_percentage >= 0 %}success{% else %}danger{% endif %} fw-medium">{{ announcements_percentage }}%</span> from last month
                                        </p>
                                    </div>
                                    <div class="mini-stat-icon-box">
                                        <i class="ri-notification-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                <!-- Executives Card -->
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="card mini-stat modern-card modern-card-warning">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h5 class="font-size-12 text-uppercase text-muted mb-3">Executives</h5>
                                    <h3 class="fw-bold font-size-28 mb-2">
                                        {% if total_executives > 0 %}
                                            <span class="counter">{{ total_executives }}</span>
                                        {% else %}
                                            <span class="text-muted">0</span>
                                        {% endif %}
                                    </h3>
                                    <p class="text-muted mb-0 font-size-12">
                                        <i class="ri-trending-up-line text-info"></i>
                                        <span class="text-info fw-medium">Active</span>
                                    </p>
                                </div>
                                <div class="mini-stat-icon-box">
                                    <i class="ri-user-star-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Admins / Members Card -->
                {% if is_admin %}
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card mini-stat modern-card modern-card-danger">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <h5 class="font-size-12 text-uppercase text-muted mb-3">Admins</h5>
                                        <h3 class="fw-bold font-size-28 mb-2">
                                            {% if total_admins > 0 %}
                                                <span class="counter">{{ total_admins }}</span>
                                            {% else %}
                                                <span class="text-muted">0</span>
                                            {% endif %}
                                        </h3>
                                        <p class="text-muted mb-0 font-size-12">
                                            <i class="ri-shield-check-line text-danger"></i>
                                            <span class="text-danger fw-medium">Authorized</span>
                                        </p>
                                    </div>
                                    <div class="mini-stat-icon-box">
                                        <i class="ri-admin-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-xl-3 col-md-6 mb-3">
                        <div class="card mini-stat modern-card modern-card-danger">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <h5 class="font-size-12 text-uppercase text-muted mb-3">Members</h5>
                                        <h3 class="fw-bold font-size-28 mb-2">
                                            {% if total_members > 0 %}
                                                <span class="counter">{{ total_members }}</span>
                                            {% else %}
                                                <span class="text-muted">0</span>
                                            {% endif %}
                                        </h3>
                                        <p class="text-muted mb-0 font-size-12">
                                            <i class="ri-group-line text-danger"></i>
                                            <span class="text-danger fw-medium">Community</span>
                                        </p>
                                    </div>
                                    <div class="mini-stat-icon-box">
                                        <i class="ri-team-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
            <!-- end row -->
            {% if published_events or published_news %}
                <!-- Events & News Section -->
                <div class="row mb-4 events-news-container">
                    {% if published_events %}
                        <div class="col-lg-6 col-xl-{% if published_news %}6{% else %}12{% endif %} mb-3 events-column">
                            <div class="card modern-card-full h-100">
                                <div class="card-header bg-gradient-primary border-0">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <h4 class="card-title mb-0 text-white">
                                            <i class="ri-calendar-event-line me-2"></i>Upcoming Events
                                        </h4>
                                        <a href="{% url 'dashboard:events' %}" class="btn btn-sm btn-light">View All</a>
                                    </div>
                                </div>
                                <div class="card-body p-0 events-body">
                                    {% if published_events %}
                                        <div class="events-list">
                                            {% for event in published_events|slice:":5" %}
                                                <div class="event-item">
                                                    <div class="event-marker event-marker-primary"></div>
                                                    <div class="event-content">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <h6 class="mb-1 font-weight-600">{{ event.title }}</h6>
                                                                <p class="text-muted mb-0 font-size-12">
                                                                    <i class="ri-calendar-2-line"></i>
                                                                    {% if event.start_date %}
                                                                        {{ event.start_date|date:"M d, Y" }}
                                                                    {% else %}
                                                                        TBD
                                                                    {% endif %}
                                                                </p>
                                                            </div>
                                                            <span class="badge bg-primary">
                                                                {% if event.start_date %}
                                                                    {{ event.start_date|date:"E" }}
                                                                {% else %}
                                                                    TBA
                                                                {% endif %}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        <div class="text-center py-5">
                                            <i class="ri-calendar-close-line empty-icon"></i>
                                            <p class="text-muted mt-3">No upcoming events</p>
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    {% if published_news %}
                        <div class="col-lg-6 col-xl-{% if published_events %}6{% else %}12{% endif %} mb-3 news-column">
                            <div class="card modern-card-full h-100">
                                <div class="card-header bg-gradient-success border-0">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <h4 class="card-title mb-0 text-white">
                                            <i class="ri-newspaper-line me-2"></i>Latest News
                                        </h4>
                                        <a href="{% url 'dashboard:news' %}" class="btn btn-sm btn-light">View All</a>
                                    </div>
                                </div>
                                <div class="card-body p-0 news-body">
                                    {% if published_news %}
                                        <div class="news-list">
                                            {% for news in published_news|slice:":5" %}
                                                <div class="news-item">
                                                    <div class="news-marker news-marker-primary"></div>
                                                    <div class="news-content">
                                                        <div class="d-flex justify-content-between align-items-start">
                                                            <div>
                                                                <h6 class="mb-1 font-weight-600">{{ news.title }}</h6>
                                                                <p class="text-muted mb-0 font-size-12">
                                                                    <i class="ri-calendar-2-line"></i>
                                                                    {{ news.created_at|date:"M d, Y" }}
                                                                </p>
                                                            </div>
                                                            <span class="badge bg-success">New</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        <div class="text-center py-5">
                                            <i class="ri-newspaper-line empty-icon"></i>
                                            <p class="text-muted mt-3">No recent news</p>
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                </div>
            {% endif %}
            <!-- end row -->
            <!-- Recent Documents & Adverts Section -->
            <div class="row">
                {% if recent_added_documents %}
                    <div class="col-xl-{% if recent_added_documents %}6{% else %}12{% endif %} mb-3">
                        <div class="card modern-card-full">
                            <div class="card-header bg-gradient-info border-0">
                                <div class="d-flex align-items-center justify-content-between">
                                    <h4 class="card-title mb-0 text-white">
                                        <i class="ri-file-list-line me-2"></i>Recently Added Documents
                                    </h4>
                                    <a href="{% url 'dashboard:documents' %}" class="btn btn-sm btn-light">View All</a>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                {% if recent_added_documents %}
                                    <div class="table-responsive">
                                        <table class="table table-hover table-nowrap mb-0">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col" class="border-0">#</th>
                                                    <th scope="col" class="border-0">Title</th>
                                                    <th scope="col" class="border-0">Date</th>
                                                    <th scope="col" class="border-0">By</th>
                                                    <th scope="col" class="border-0">Type</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for document in recent_added_documents|slice:":5" %}
                                                    <tr class="document-row">
                                                        <th scope="row">{{ forloop.counter }}</th>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <i class="ri-file-text-line text-primary me-2"></i>
                                                                <span class="font-weight-600">{{ document.title|truncatechars:25 }}</span>
                                                            </div>
                                                        </td>
                                                        <td class="text-muted">{{ document.date|date:'M d, Y' }}</td>
                                                        <td>
                                                            <span class="badge badge-soft-secondary">{{ document.uploaded_by.get_short_name }}</span>
                                                        </td>
                                                        <td>
                                                            {% if document.category == 'external' %}
                                                                <span class="badge bg-success">External</span>
                                                            {% else %}
                                                                <span class="badge bg-primary">Internal</span>
                                                            {% endif %}
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                {% else %}
                                    <div class="text-center py-5">
                                        <i class="ri-file-list-line empty-icon"></i>
                                        <p class="text-muted mt-3">No recent documents</p>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if active_adverts and is_admin %}
                    <div class="col-xl-{% if recent_added_documents %}6{% else %}12{% endif %} mb-3">
                        <div class="card modern-card-full">
                            <div class="card-header bg-gradient-warning border-0">
                                <div class="d-flex align-items-center justify-content-between">
                                    <h4 class="card-title mb-0 text-white">
                                        <i class="ri-megaphone-line me-2"></i>Active Adverts
                                    </h4>
                                    <a href="{% url 'dashboard:adverts' %}" class="btn btn-sm btn-light">View All</a>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                {% if active_adverts %}
                                    <div class="table-responsive">
                                        <table class="table table-hover table-nowrap mb-0">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col" class="border-0">#</th>
                                                    <th scope="col" class="border-0">Company</th>
                                                    <th scope="col" class="border-0">Start Date</th>
                                                    <th scope="col" class="border-0">End Date</th>
                                                    <th scope="col" class="border-0">Clicks</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for ad in active_adverts|slice:":5" %}
                                                    <tr class="advert-row">
                                                        <th scope="row">{{ forloop.counter }}</th>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <i class="ri-building-line text-warning me-2"></i>
                                                                <span class="font-weight-600">{{ ad.advertiser.company_name|truncatechars:20 }}</span>
                                                            </div>
                                                        </td>
                                                        <td class="text-muted">{{ ad.start_date|date:'M d, Y' }}</td>
                                                        <td class="text-muted">{{ ad.end_date|date:'M d, Y' }}</td>
                                                        <td>
                                                            <span class="badge bg-light text-dark">{{ ad.clicks }} clicks</span>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                {% else %}
                                    <div class="text-center py-5">
                                        <i class="ri-megaphone-line empty-icon"></i>
                                        <p class="text-muted mt-3">No active adverts</p>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endif %}
                <!-- Empty State for Documents & Adverts Section -->
                {% if not recent_added_documents and not active_adverts %}
                    <div class="col-12">
                        <div class="card modern-card-full">
                            <div class="card-body py-5">
                                <div class="text-center">
                                    <div class="empty-state-large">
                                        <i class="ri-inbox-line"></i>
                                    </div>
                                    <h5 class="mt-4 text-dark">No Data Available</h5>
                                    <p class="text-muted mb-4">There are no recent documents or active adverts at the moment.</p>
                                    <a href="{% url 'dashboard:documents' %}" class="btn btn-primary me-2">
                                        <i class="ri-file-upload-line me-1"></i>View Documents
                                    </a>
                                    {% if is_admin %}
                                        <a href="{% url 'dashboard:adverts' %}" class="btn btn-outline-primary">
                                            <i class="ri-megaphone-line me-1"></i>View Adverts
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% elif not recent_added_documents %}
                    <div class="col-xl-{% if active_adverts and is_admin %}12{% else %}6{% endif %}">
                        <div class="card modern-card-full">
                            <div class="card-body py-5">
                                <div class="text-center">
                                    <i class="ri-file-list-line empty-icon"></i>
                                    <h5 class="mt-3 text-dark">No Recent Documents</h5>
                                    <p class="text-muted">There are no recent documents available.</p>
                                    <a href="{% url 'dashboard:documents' %}" class="btn btn-primary btn-sm">
                                        <i class="ri-eye-line me-1"></i>View All Documents
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% elif not active_adverts and is_admin %}
                    <div class="col-xl-{% if recent_added_documents %}6{% else %}12{% endif %}">
                        <div class="card modern-card-full">
                            <div class="card-body py-5">
                                <div class="text-center">
                                    <i class="ri-megaphone-line empty-icon"></i>
                                    <h5 class="mt-3 text-dark">No Active Adverts</h5>
                                    <p class="text-muted">There are currently no active advertisements.</p>
                                    <a href="{% url 'dashboard:adverts' %}" class="btn btn-primary btn-sm">
                                        <i class="ri-add-line me-1"></i>Manage Adverts
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
            <!-- end row -->
        </div>
        <!-- container-fluid -->
    </div>
    <!-- Modern Dashboard Styles -->
    <style>
    /* Modern Header Styles */
    .modern-header {
        background: linear-gradient(135deg, #01004e 0%, #1a0066 100%);
        border-radius: 12px;
        padding: 30px;
        color: white;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(1, 0, 78, 0.15);
    }

    .modern-header .page-title {
        font-size: 32px;
        font-weight: 700;
        color: white;
        margin-bottom: 15px;
    }

    .modern-header .breadcrumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 10px 15px;
    }

    .modern-header .breadcrumb-item {
        color: rgba(255, 255, 255, 0.8);
    }

    .modern-header .breadcrumb-item.active {
        color: white;
    }

    .header-content {
        animation: slideInUp 0.6s ease-out;
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Modern Card Styles */
    .modern-card {
        border: none;
        border-radius: 12px;
        background: white;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .modern-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .modern-card .card-body {
        padding: 24px;
    }

    /* Mini Stat Card */
    .mini-stat {
        display: flex;
        flex-direction: column;
    }

    .mini-stat-icon-box {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        background: rgba(255, 255, 255, 0.2);
    }

    .modern-card-primary .mini-stat-icon-box {
        background: rgba(1, 0, 78, 0.2);
        color: #01004e;
    }

    .modern-card-info .mini-stat-icon-box {
        background: rgba(1, 0, 78, 0.15);
        color: #01004e;
    }

    .modern-card-warning .mini-stat-icon-box {
        background: rgba(1, 0, 78, 0.1);
        color: #01004e;
    }

    .modern-card-danger .mini-stat-icon-box {
        background: rgba(1, 0, 78, 0.12);
        color: #01004e;
    }

    .counter {
        font-weight: 700;
        background: linear-gradient(135deg, #01004e 0%, #1a0066 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Card Full Styles */
    .modern-card-full {
        border: none;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
    }

    .modern-card-full .card-header {
        padding: 20px 24px;
        border-bottom: 1px solid #f0f0f0;
    }

    .bg-gradient-primary {
        background: linear-gradient(135deg, #01004e 0%, #1a0066 100%) !important;
    }

    .bg-gradient-success {
        background: linear-gradient(135deg, #01004e 0%, #003d99 100%) !important;
    }

    .bg-gradient-info {
        background: linear-gradient(135deg, #01004e 0%, #0d003a 100%) !important;
    }

    .bg-gradient-warning {
        background: linear-gradient(135deg, #01004e 0%, #1a0066 100%) !important;
    }

    .modern-card-full .card-header .btn-light {
        background: rgba(255, 255, 255, 0.2) !important;
        color: white !important;
        border: none;
        transition: all 0.2s ease;
    }

    .modern-card-full .card-header .btn-light:hover {
        background: rgba(255, 255, 255, 0.3) !important;
    }

    /* Events & News List */
    .events-list,
    .news-list {
        padding: 0;
        max-height: 400px;
        overflow-y: auto;
    }

    /* Scrollbar styling */
    .events-list::-webkit-scrollbar,
    .news-list::-webkit-scrollbar {
        width: 6px;
    }

    .events-list::-webkit-scrollbar-track,
    .news-list::-webkit-scrollbar-track {
        background: #f0f0f0;
    }

    .events-list::-webkit-scrollbar-thumb,
    .news-list::-webkit-scrollbar-thumb {
        background: #01004e;
        border-radius: 3px;
    }

    .events-list::-webkit-scrollbar-thumb:hover,
    .news-list::-webkit-scrollbar-thumb:hover {
        background: #0d003a;
    }

    .event-item,
    .news-item {
        display: flex;
        align-items: flex-start;
        padding: 16px 24px;
        border-bottom: 1px solid #f0f0f0;
        transition: all 0.2s ease;
    }

    .event-item:last-child,
    .news-item:last-child {
        border-bottom: none;
    }

    .event-item:hover,
    .news-item:hover {
        background: #f9f9f9;
    }

    .event-marker-primary,
    .news-marker-primary {
        background: linear-gradient(135deg, #01004e 0%, #1a0066 100%);
    }

    .event-marker,
    .news-marker {
        width: 4px;
        height: 60px;
        border-radius: 2px;
        margin-right: 16px;
        flex-shrink: 0;
    }

    .event-content,
    .news-content {
        flex: 1;
        min-width: 0;
    }

    .event-content h6,
    .news-content h6 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
        color: #333;
        word-break: break-word;
    }

    /* Events & News Container */
    .events-news-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0;
    }

    .events-column,
    .news-column {
        display: flex;
    }

    .events-column .modern-card-full,
    .news-column .modern-card-full {
        width: 100%;
        display: flex;
        flex-direction: column;
    }

    .events-body,
    .news-body {
        flex: 1;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }

    /* Full width when only one section exists */
    .events-column:only-child,
    .news-column:only-child {
        flex-basis: 100%;
    }

    /* Table Styles */
    .document-row,
    .advert-row {
        transition: all 0.2s ease;
    }

    .document-row:hover,
    .advert-row:hover {
        background: #f9f9f9;
    }

    .table-light thead {
        background: #f8f9fa;
        border-bottom: 2px solid #e0e0e0;
    }

    .table th {
        font-weight: 600;
        color: #666;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .badge-soft-secondary {
        background: #f0f0f0;
        color: #666;
    }

    /* Empty State Icon */
    .empty-icon {
        font-size: 48px;
        color: #e0e0e0;
    }

    .empty-state-large {
        font-size: 80px;
        color: #d0d0d0;
        margin-bottom: 20px;
        animation: fadeIn 0.5s ease-out;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .modern-header {
            padding: 20px;
        }

        .modern-header .page-title {
            font-size: 24px;
        }

        .modern-header .text-end {
            text-align: left !important;
            margin-top: 15px;
        }

        .mini-stat-icon-box {
            width: 50px;
            height: 50px;
            font-size: 24px;
        }

        .counter {
            font-size: 24px !important;
        }

        .event-item,
        .news-item {
            padding: 12px 16px;
        }

        .event-marker,
        .news-marker {
            height: 50px;
        }

        .table {
            font-size: 12px;
        }

        .col-xl-6 {
            /* Ensure proper stacking on mobile */
            width: 100%;
        }
    }

    /* Animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    .modern-card {
        animation: fadeIn 0.5s ease-out;
    }

    .col-xl-3 {
        animation: fadeIn 0.5s ease-out;
    }

    .col-xl-3:nth-child(1) { animation-delay: 0.1s; }
    .col-xl-3:nth-child(2) { animation-delay: 0.2s; }
    .col-xl-3:nth-child(3) { animation-delay: 0.3s; }
    .col-xl-3:nth-child(4) { animation-delay: 0.4s; }

    /* Text Utilities */
    .text-white-50 {
        color: rgba(255, 255, 255, 0.5);
    }

    .font-weight-600 {
        font-weight: 600;
    }

    .hover-scale {
        transition: transform 0.2s ease;
    }

    .hover-scale:hover {
        transform: scale(1.02);
    }
    </style>
{% endblock content %}
