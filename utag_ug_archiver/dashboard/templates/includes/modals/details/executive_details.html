<!-- Modal for Add -->
{% load static %}
{% load image_tags %}
{% load name_filters %}
{% for officer in executive_officers %}
  <div class="modal fade"
       id="officerModal_{{ officer.id }}"
       tabindex="-1"
       aria-labelledby="officerModalLabel_{{ officer.id }}"
       aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="officerModalLabel_{{ officer.id }}">Profile Overview â€” {{ officer.get_short_name }}</h5>
          <button type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <!-- Profile Image Section -->
              <div class="col-lg-3 col-md-4 mb-3 mb-md-0">
                <div class="text-center">
                  {% if officer.executive_image %}
                    {% lazy_img officer.executive_image.url officer|format_full_name 200 200 "rounded-circle img-thumbnail shadow-sm mb-3" %}
                  {% else %}
                    <img src="{% static 'dashboard/assets/images/users/profile.png' %}" 
                         alt="Profile" 
                         class="rounded-circle img-thumbnail shadow-sm mb-3" 
                         width="150" 
                         loading="lazy" 
                         decoding="async" />
                  {% endif %}
                  <h5 class="mb-1">{{ officer|format_full_name }}</h5>
                  <p class="text-muted mb-0">{{ officer.executive_position|position_label }}</p>
                  {% if officer.executive_status %}
                    <p class="text-info mb-0">{{ officer.executive_status }}</p>
                  {% endif %}
                </div>
              </div>
              <!-- Profile Details Section -->
              <div class="col-lg-9 col-md-8">
                <div class="row g-3">
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Title:</strong>
                    <p class="mb-0">{{ officer.title }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Surname:</strong>
                    <p class="mb-0">{{ officer.surname }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Other Name:</strong>
                    <p class="mb-0">{{ officer.other_name|default:"N/A" }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Email:</strong>
                    <p class="mb-0">
                      <a href="mailto:{{ officer.email }}">{{ officer.email }}</a>
                    </p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Gender:</strong>
                    <p class="mb-0">{{ officer.gender }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Department:</strong>
                    <p class="mb-0">{{ officer.department|default:"N/A" }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Phone Number:</strong>
                    <p class="mb-0">
                      {% if officer.phone_number %}
                        <a href="tel:{{ officer.phone_number }}">{{ officer.phone_number }}</a>
                      {% else %}
                        N/A
                      {% endif %}
                    </p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Appointment Date:</strong>
                    <p class="mb-0">{{ officer.date_appointed|date:'d M, Y' }}</p>
                  </div>
                  <div class="col-sm-6">
                    <strong class="d-block text-muted mb-1">Expiry Date:</strong>
                    <p class="mb-0">
                      {% if officer.expiry_date %}
                        {{ officer.expiry_date|date:'d M, Y' }}
                      {% else %}
                        {{ officer.date_ended|default:'N/A' }}
                      {% endif %}
                    </p>
                  </div>
                </div>
                <!-- Social Media Profiles Section -->
                <div class="row mt-4 pt-3 border-top g-3">
                  <div class="col-12 mb-2">
                    <h6 class="mb-0">Social Media Profiles</h6>
                  </div>
                  <div class="col-md-4">
                    <strong class="d-block text-muted mb-1">Facebook:</strong>
                    <p class="mb-0 text-truncate" style="max-width: 100%;">
                      {% if officer.fb_profile_url %}
                        <a href="{{ officer.fb_profile_url }}" target="_blank" rel="noopener noreferrer" class="text-primary" aria-label="Facebook profile">
                          <i class="mdi mdi-facebook me-1"></i>View Profile
                        </a>
                      {% else %}
                        N/A
                      {% endif %}
                    </p>
                  </div>
                  <div class="col-md-4">
                    <strong class="d-block text-muted mb-1">Twitter:</strong>
                    <p class="mb-0 text-truncate" style="max-width: 100%;">
                      {% if officer.twitter_profile_url %}
                        <a href="{{ officer.twitter_profile_url }}" target="_blank" rel="noopener noreferrer" class="text-info" aria-label="Twitter profile">
                          <i class="mdi mdi-twitter me-1"></i>View Profile
                        </a>
                      {% else %}
                        N/A
                      {% endif %}
                    </p>
                  </div>
                  <div class="col-md-4">
                    <strong class="d-block text-muted mb-1">LinkedIn:</strong>
                    <p class="mb-0 text-truncate" style="max-width: 100%;">
                      {% if officer.linkedin_profile_url %}
                        <a href="{{ officer.linkedin_profile_url }}" target="_blank" rel="noopener noreferrer" class="text-primary" aria-label="LinkedIn profile">
                          <i class="mdi mdi-linkedin me-1"></i>View Profile
                        </a>
                      {% else %}
                        N/A
                      {% endif %}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
{% endfor %}
