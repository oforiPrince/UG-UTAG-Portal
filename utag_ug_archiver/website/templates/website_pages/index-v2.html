{% extends "base/base-v2.html" %}
{% load static %}
{% load ads_tags %}
{% load image_tags %}
{% block title %}Home{% endblock %}
{% block extra_head %}
  <style>
    /* Image Performance Optimizations */
    img {
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
      max-width: 100%;
      height: auto;
    }
    
    /* Lazy loading placeholder */
    img[loading="lazy"] {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    /* Optimize carousel images */
    .single-class-image img,
    .single-blog-image img,
    .gallery-wrapper img {
      will-change: transform;
      backface-visibility: hidden;
      transform: translateZ(0);
    }
    
    /* Prevent layout shift */
    .single-class-image,
    .single-blog-image,
    .teachers-image-column {
      aspect-ratio: 16 / 9;
      overflow: hidden;
    }
    
    .teachers-image-column img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    /* Optimize font loading */
    body {
      font-display: swap;
    }

    /* Keep hero/aim images upright (override any theme rotations) */
    .skill-image img,
    .service-image img,
    .teachers-image-column img,
    .gallery-wrapper img,
    .single-class-image img,
    .single-blog-image img {
      transform: none !important;
      rotate: none;
      animation: none !important;
    }

    /* Executive carousel: remove gray backgrounds */
    .teachers-column-carousel-area,
    .teachers-column-carousel,
    .teachers-column-carousel .owl-stage-outer,
    .teachers-column-carousel .owl-item,
    .teachers-column-carousel .single-teachers-column {
      background: transparent !important;
    }
  </style>
{% endblock extra_head %}
{% block content %}
  <!--Slider Area Start-->
  <div class="slider-area slider-two-area">
    <div class="preview-2">
      <div id="nivoslider" class="slides">
        <img src="{% static 'website-v2/img/slider/carousel9.jpg' %}"
             alt="UG-UTAG carousel slide"
             width="1920"
             height="500"
             loading="eager"
             fetchpriority="high"
             decoding="async" />
        <img src="{% static 'website-v2/img/slider/carousel8.jpg' %}"
             alt="UG-UTAG carousel slide"
             width="1920"
             height="500"
             loading="lazy"
             decoding="async" />
      </div>
    </div>
  </div>
  <!--End of Slider Area-->
  <!--Activity Area Start-->
  <div class="activity-area">
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-6 activity">
          <div class="single-activity">
            <div class="single-activity-icon">
              <i class="fa fa-pencil"></i>
            </div>
            <h4>Quality Education</h4>
            <p>
              We are committed to defending and promoting academic freedom, ensuring that scholars can pursue research and teaching without undue external interference.
            </p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6 activity">
          <div class="single-activity">
            <div class="single-activity-icon">
              <i class="fa fa-rocket"></i>
            </div>
            <h4>Teaching & Research</h4>
            <p>
              We are committed to advancing teaching and research excellence. We strive to enhance standards for a brighter future through education.
            </p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6 activity">
          <div class="single-activity">
            <div class="single-activity-icon">
              <i class="fa fa-users"></i>
            </div>
            <h4>Advocate for Membership</h4>
            <p>
              We advocate for the needs and concerns of our members to University Management, national leadership, other stakeholders, and the Government.
            </p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6 activity">
          <div class="single-activity">
            <div class="single-activity-icon">
              <i class="fa fa-life-ring"></i>
            </div>
            <h4>Member Welfare</h4>
            <p>
              We prioritize the well-being of our members by securing fair compensation, benefits, and working conditions for a supportive academic environment.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--End of Activity Area-->
  <!--About Skill Area Start-->
  <div class="about-skill-area section-padding">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <div class="about-skill-text wow fadeInLeft"
               data-wow-duration="1.5s"
               data-wow-delay="0.2s">
            <h2>Welcome to UG-UTAG</h2>
            <span>University of Ghana Branch</span>
            <p>
              The University of Ghana Branch of the University Teachers Association of Ghana (UG-UTAG) is a dynamic organization dedicated to representing the teaching and research staff of the University of Ghana. Our primary purpose is to champion the academic, professional, and economic welfare of our members, thereby fostering an environment of excellence for the entire academic community. We actively engage with university management and national stakeholders to negotiate for fair conditions of service, protect academic freedom, and ensure the provision of adequate resources for teaching and research. UG-UTAG serves as a unified voice for our members, advocating for policies that enhance the quality of higher education and uphold the values of scholarly inquiry and community service.
            </p>
            <div class="mb-2">
              <a href="#" class="button-default">Know More</a>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="skill-image wow fadeInRight"
               data-wow-duration="1.5s"
               data-wow-delay="0.2s">
            <img src="{% static 'website-v2/img/banner/about_bg.png' %}"
                 alt="About UG-UTAG banner"
                 width="800"
                 height="450"
                 loading="lazy"
                 decoding="async"
                 style="max-width: 100%; height: auto;" />
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--End of About Skill Area-->
  {% if published_events and published_events|length > 0 %}
    <!--Events Area Start-->
    <div class="class-area section-padding">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-title-wrapper title-yellow">
              <div class="section-title">
                <h3>Our Events</h3>
                <p>Discover our latest events and activities designed to enrich the academic and social experience of our members.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="class-carousel carousel-style-one owl-carousel">
          {% for event in published_events %}
            <div class="single-class">
              <div class="single-class-image">
                <a href="{% url 'website:events_detail' slug=event.event_slug %}">
                  <img src="{{ event.get_featured_image_url }}"
                       alt="{{ event.title }}"
                       class="img-fluid rounded shadow"
                       width="600"
                       height="360"
                       loading="lazy"
                       decoding="async"
                       style="object-fit: cover; max-width: 100%; height: auto;" />
                  <span class="class-date">{{ event.start_date|date:'M d' }} <span>{{ event.start_date|date:'Y' }}</span></span>
                </a>
              </div>
              <div class="single-class-text">
                <div class="class-des">
                  <h4>
                    <a href="{% url 'website:events_detail' slug=event.event_slug %}">{{ event.title }}</a>
                  </h4>
                  <p>{{ event.description|truncatechars:100|safe }}</p>
                </div>
                <div class="class-schedule">
                  <span class="post__category-links">
                    <i class="fa fa-map-marker"></i>
                    {{ event.venue }}
                  </span>
                  <span class="post__comment-link">
                    <i class="fa fa-calendar"></i>
                    {{ event.start_date|date:"d M, Y" }}
                    {% if event.end_date %}- {{ event.end_date|date:"d M, Y" }}{% endif %}
                  </span>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <!--End of Events Area-->
  {% endif %}
  <!-- Gallery has 4 images -->
  {% if gallery_images and gallery_images|length == 4 %}
    <!--Gallery Fullwidth Area start-->
    <div class="gallery-area gallery-fullwidth section-gray section-padding">
      <div class="section-title-wrapper title-yellow">
        <div class="section-title">
          <h3>Our Gallery</h3>
          <p>
            Explore our vibrant gallery showcasing the diverse activities and events that enrich the lives of our members and the academic community.
          </p>
        </div>
      </div>
      <div class="gallery-wrapper">
        <div class="row no-gutters">
          {% for image in gallery_images %}
            <div class="single-items col-lg-3 col-md-3 col-sm-6 col-12 overlay-hover">
              <div class="overlay-effect sea-green-overlay">
                <a href="#"
                   title="Open image"
                   aria-label="{{ image.caption|default:'Gallery image' }}">
                  <img src="{{ image.get_absolute_url }}"
                       alt="{{ image.caption|default:'Gallery image' }}"
                       width="400"
                       height="300"
                       loading="lazy"
                       decoding="async"
                       style="object-fit: cover; width: 100%; height: 100%;" />
                </a>
                <div class="gallery-hover-effect">
                  <a class="gallery-icon venobox"
                     href="{{ image.get_absolute_url }}"
                     title="View image"
                     aria-label="View image: {{ image.caption|default:'Gallery image' }}"><i class="fa fa-image"></i></a>
                  <span class="gallery-text">{{ image.caption|default:"" }}</span>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="view-gallery text-center">
        <h4>
          More Photos from <span>Our Gallery!</span>
        </h4>
        <a href="{% url 'website:gallery' %}" class="button-default">View Now</a>
      </div>
    </div>
    <!--End of Gallery Fullwidth Area-->
  {% endif %}
  {% if executives and executives|length > 0 %}
    <!--Teachers Large Carousel Area Start-->
    <div class="teachers-column-carousel-area section-padding">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-title-wrapper">
              <div class="section-title">
                <h3>Our Executive Officers</h3>
                <p>
                  Meet our dedicated executive officers who lead the University of Ghana Branch of UTAG, advocating for the rights and welfare of our members.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="teachers-column-carousel carousel-style-one owl-carousel">
          {% for executive in executives %}
          <div class="single-teachers-column text-center">
            <div class="teachers-image-column">
              <a href="#"
                 title="View executive profile"
                 aria-label="View profile of {{ executive.get_full_name }}">
                {% if executive.executive_image %}
                  {% lazy_img executive.executive_image.url executive.get_full_name "img-fluid" "executive" %}
                {% else %}
                  <img src="{% static 'website/assets/img/team/ourteam31.png' %}" alt="Executive Officer: {{ executive.get_full_name }}" loading="lazy" decoding="async" class="img-fluid" />
                {% endif %}
              </a>
            </div>
            <div class="teacher-column-carousel-text">
              <h4>
                <a href="#" class="text-decoration-none" data-bio-modal
                   data-name="{{ executive.get_full_name }}"
                   data-position="{{ executive.executive_position }}"
                   data-affiliation="{% if executive.school %}School: {{ executive.school.name }}{% endif %}{% if executive.college %} | College: {{ executive.college.name }}{% endif %}{% if executive.department %} | Dept: {{ executive.department.name }}{% endif %}"
                   data-bio="{{ executive.executive_bio|default:'<span class=\'text-muted\'>No biography provided.</span>'|linebreaksbr|escapejs }}"
                   data-photo="{% if executive.executive_image %}{{ executive.executive_image.url }}{% endif %}">
                  {{ executive.get_full_name }}
                </a>
              </h4>
              <span>{{ executive.executive_position }}</span>
              <div class="social-links">
                {% if executive.fb_profile_url %}
                  <a href="{{ executive.fb_profile_url }}"
                     title="Facebook profile"
                     aria-label="Facebook profile of {{ executive.get_full_name }}"><i class="fa fa-facebook"></i></a>
                {% endif %}
                {% if executive.email %}
                  <a href="mailto:{{ executive.email }}"
                     title="Send email"
                     aria-label="Send email to {{ executive.get_full_name }}"><i class="fa fa-google-plus"></i></a>
                {% endif %}
                {% if executive.twitter_profile_url %}
                  <a href="{{ executive.twitter_profile_url }}"
                     title="Twitter profile"
                     aria-label="Twitter profile of {{ executive.get_full_name }}"><i class="fa fa-twitter"></i></a>
                {% endif %}
                {% if executive.linkedin_profile_url %}
                  <a href="{{ executive.linkedin_profile_url }}"
                     title="LinkedIn profile"
                     aria-label="LinkedIn profile of {{ executive.get_full_name }}"><i class="fa fa-linkedin"></i></a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <!--End of Teachers Large Carousel Area-->
  {% endif %}
  <!--Aim Start-->
  <div class="service-area section-padding">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-title-wrapper">
            <div class="section-title">
              <h3>Our Aim</h3>
              <p>We are dedicated to advancing the interests and welfare of our members and the university community.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4 col-md-4 col-12">
          <div class="single-service-item-wrapper">
            <div class="single-service-item">
              <div class="single-service-text">
                <h4>Promote Welfare</h4>
                <p>To promote the welfare of UG Teachers by seeking the improvement of their working conditions and facilities.</p>
              </div>
              <div class="single-service-icon">
                <i class="fa fa-heartbeat"></i>
              </div>
            </div>
            <div class="single-service-item">
              <div class="single-service-text">
                <h4>Foster Unity</h4>
                <p>To promote actions of common interests among UG Teachers and foster a spirit of unity and mutual support.</p>
              </div>
              <div class="single-service-icon">
                <i class="fa fa-users"></i>
              </div>
            </div>
            <div class="single-service-item">
              <div class="single-service-text">
                <h4>Improve Communication</h4>
                <p>To improve communication channels and relations among stakeholders within and outside the University Community.</p>
              </div>
              <div class="single-service-icon">
                <i class="fa fa-comments-o"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <div class="service-image">
            <img src="{% static 'website-v2/img/banner/ug-logo.png' %}"
                 alt="University of Ghana logo"
                 class="img-fluid"
                 width="300"
                 height="150"
                 loading="lazy"
                 decoding="async"
                 style="max-width: 100%; height: auto;" />
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <div class="single-service-item-wrapper">
            <div class="single-service-item">
              <div class="single-service-icon">
                <i class="fa fa-line-chart"></i>
              </div>
              <div class="single-service-text">
                <h4>Advance Academics</h4>
                <p>To advance teaching, research, and community service, ensuring the highest standards of academic excellence.</p>
              </div>
            </div>
            <div class="single-service-item">
              <div class="single-service-icon">
                <i class="fa fa-puzzle-piece"></i>
              </div>
              <div class="single-service-text">
                <h4>Pursue Related Aims</h4>
                <p>To pursue any other aim which is reasonably connected with or incidental to the foregoing aims.</p>
              </div>
            </div>
            <div class="single-service-item">
              <div class="single-service-icon">
                <i class="fa fa-balance-scale"></i>
              </div>
              <div class="single-service-text">
                <h4>Uphold Academic Freedom</h4>
                <p>
                  To uphold and defend the principles of academic freedom, ensuring an environment of open inquiry and intellectual growth.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--End of Aim Area-->
  <style>
    /* Fix logo centering - horizontally and vertically */
    .service-area .col-md-4:nth-child(2) {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .service-image {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      min-height: 100%;
      padding: 20px 0;
    }
    
    .service-image img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
      object-fit: contain;
    }
    
    /* Fix hover description visibility - allow full expansion */
    .single-service-item {
      min-height: 90px !important;
      height: auto !important;
      overflow: visible !important;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .single-service-item:hover {
      height: auto !important;
      min-height: 90px !important;
      padding-bottom: 20px;
      margin-bottom: 10px;
    }
    
    .single-service-text {
      overflow: visible !important;
      position: relative;
      z-index: 1;
      width: 100%;
    }
    
    .single-service-text > p {
      display: none;
      margin-top: 10px;
      margin-bottom: 0;
      line-height: 1.7;
      color: #555;
      font-size: 13px;
      padding: 0 8px;
      word-wrap: break-word;
      overflow: visible;
      white-space: normal;
      text-align: inherit;
      max-width: 100%;
    }
    
    .single-service-item:hover .single-service-text > p {
      display: block !important;
      animation: fadeIn 0.3s ease;
      visibility: visible;
      opacity: 1;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Ensure wrapper doesn't clip content */
    .single-service-item-wrapper {
      overflow: visible !important;
      position: relative;
    }
    
    /* Adjust for left column - ensure text area is wide enough */
    .service-area .col-md-4:first-child .single-service-text {
      overflow: visible !important;
      padding-right: 112px;
      text-align: right;
    }
    
    .service-area .col-md-4:first-child .single-service-item:hover .single-service-text {
      padding-right: 112px;
    }
    
    /* Adjust for right column - ensure text area is wide enough */
    .service-area .col-md-4:last-child .single-service-text {
      overflow: visible !important;
      padding-left: 112px;
      text-align: left;
    }
    
    .service-area .col-md-4:last-child .single-service-item:hover .single-service-text {
      padding-left: 112px;
    }
    
    /* Make sure icons stay in place on hover */
    .single-service-item:hover .single-service-icon {
      position: absolute;
      top: 0;
    }
    
    .service-area .col-md-4:first-child .single-service-item:hover .single-service-icon {
      right: 0;
    }
    
    .service-area .col-md-4:last-child .single-service-item:hover .single-service-icon {
      left: 0;
      right: auto;
    }
    
    /* Ensure service area container allows overflow */
    .service-area .row {
      overflow: visible;
    }
    
    .service-area .container {
      overflow: visible;
    }
    
    /* Responsive adjustments */
    @media (max-width: 991px) {
      .service-image {
        margin: 30px 0;
        min-height: 200px;
      }
      
      .single-service-item {
        margin-bottom: 50px;
      }
      
      .service-area .col-md-4:first-child .single-service-text,
      .service-area .col-md-4:last-child .single-service-text {
        padding-left: 112px;
        padding-right: 0;
        text-align: left;
      }
    }
    
    @media (max-width: 767px) {
      .service-image {
        min-height: 150px;
      }
    }
    
    /* Performance: Optimize image loading */
    img[loading="lazy"] {
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    img[loading="lazy"].loaded {
      opacity: 1;
    }
    
    /* Prevent cumulative layout shift */
    .single-class-image,
    .single-blog-image,
    .teachers-image-column,
    .gallery-wrapper .single-items {
      min-height: 200px;
      background: #f5f5f5;
    }
    
    /* Optimize carousel performance */
    .owl-carousel .owl-item {
      will-change: transform;
      backface-visibility: hidden;
    }
  </style>
  <script>
    // Lazy load images with intersection observer for better performance
    document.addEventListener('DOMContentLoaded', function() {
      const lazyImages = document.querySelectorAll('img[loading="lazy"]');
      
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.classList.add('loaded');
              observer.unobserve(img);
            }
          });
        });
        
        lazyImages.forEach(function(img) {
          imageObserver.observe(img);
        });
      } else {
        // Fallback for older browsers
        lazyImages.forEach(function(img) {
          img.classList.add('loaded');
        });
      }
    });
  </script>
  <!--Fun Factor Area Start-->
  <div class="fun-factor-area fun-factor-two">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-6 col-6">
          <div class="single-fun-factor">
            <div class="fun-factor-icon">
              <i class="fa fa-users"></i>
            </div>
            <h2>
              <span class="counter">25</span>
            </h2>
            <span>Lecturers</span>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-6 col-6">
          <div class="single-fun-factor">
            <div class="fun-factor-icon">
              <i class="fa fa-bank"></i>
            </div>
            <h2>
              <span class="counter">45</span>
            </h2>
            <span>Senior Lecturers</span>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-6 col-6">
          <div class="single-fun-factor">
            <div class="fun-factor-icon">
              <i class="fa fa-user"></i>
            </div>
            <h2>
              <span class="counter">55</span>
            </h2>
            <span>Professors</span>
          </div>
        </div>
        <!-- <div class="col-lg-3 col-md-3 col-sm-6 col-6">
        <div class="single-fun-factor">
          <div class="fun-factor-icon">
            <i class="fa fa-clock-o"></i>
          </div>
          <h2><span class="counter">250</span></h2>
          <span>Teaching Hours</span>
        </div>
      </div> -->
      </div>
    </div>
  </div>
  <!--End of Fun Factor Area-->
  {% if published_news and published_news|length > 0 %}
    <!--Blog Area Start-->
    <div class="blog-area blog-two">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-title-wrapper title-yellow">
              <div class="section-title">
                <h3>Our News</h3>
                <p>
                  Latest news and updates from the University of Ghana Branch of UTAG, keeping you informed about our activities and initiatives.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="blog-carousel carousel-style-one owl-carousel">
          {% for news in published_news %}
          <div class="single-blog-item overlay-hover">
            <div class="single-blog-image">
              <div class="overlay-effect">
                <a href="{% url 'website:news_detail' slug=news.news_slug %}">
                  <img src="{{ news.get_featured_image_url }}"
                       alt="{{ news.title }}"
                       width="400"
                       height="250"
                       loading="lazy"
                       decoding="async"
                       style="object-fit: cover; width: 100%; height: auto;" />
                  <span class="class-date">{{ news.created_at|date:"M d" }} <span>{{ news.created_at|date:"Y" }}</span></span>
                </a>
              </div>
            </div>
            <div class="single-blog-text">
              <h4>
                <a href="{% url 'website:news_detail' slug=news.news_slug %}">{{ news.title|truncatechars:80 }}</a>
              </h4>
              <div class="blog-date">
                <span><i class="fa fa-calendar"></i>{{ news.created_at|date:"d M, Y" }}</span>
              </div>
              <p>{{ news.content|truncatechars:120|safe }}</p>
              <a href="{% url 'website:news_detail' slug=news.news_slug %}">Read more.</a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <!--End of Blog Area-->
  {% endif %}
{% endblock %}
